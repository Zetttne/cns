{% extends "transfer_app/base.html" %}

{% block title %}Register - Group Transfer System{% endblock %}

{% block content %}
<div style="max-width: 500px; margin: 50px auto;">
    <div class="card">
        <h2 style="text-align: center; margin-bottom: 30px; color: #667eea;">Create Account</h2>
        <form method="post">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="username">Username *</label>
                <input type="text" id="username" name="username" required 
                       placeholder="Enter your username">
            </div>
            
            <div class="form-group">
                <label for="password">Password *</label>
                <input type="password" id="password" name="password" required 
                       placeholder="Enter your password" minlength="6">
                <small style="color: #6b7280; font-size: 12px;">Minimum 6 characters</small>
            </div>
            
            <div class="form-group">
                <label for="confirm_password">Confirm Password *</label>
                <input type="password" id="confirm_password" name="confirm_password" required 
                       placeholder="Re-enter your password">
            </div>
            
            <div class="form-group">
                <label for="msnv">Employee ID (MSNV)</label>
                <input type="text" id="msnv" name="msnv" 
                       placeholder="Enter your employee ID (optional)">
            </div>
            
            <div class="form-group">
                <label for="role">Role *</label>
                <select id="role" name="role" required>
                    <option value="">-- Select Your Role --</option>
                    <option value="SUPERVISOR">Supervisor</option>
                    <option value="LEAD">Lead</option>
                    <option value="DATA_PROCESSOR">Data Processor</option>
                </select>
            </div>
            
            <button type="submit" class="btn btn-primary" style="width: 100%;">
                Register
            </button>
        </form>
        
        <div style="text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #e5e7eb;">
            <span style="color: #6b7280;">Already have an account?</span>
            <a href="{% url 'transfer_app:login' %}" style="color: #667eea; text-decoration: none; font-weight: 600;">
                Login here
            </a>
        </div>
    </div>
</div>

<script>
    // Validate password confirmation on form submit
    document.querySelector('form').addEventListener('submit', function(e) {
        const password = document.getElementById('password').value;
        const confirm = document.getElementById('confirm_password').value;
        
        if (password !== confirm) {
            e.preventDefault();
            alert('Passwords do not match!');
            document.getElementById('confirm_password').focus();
        }
    });
</script>
{% endblock %}
